# nft-survey

NFT survey

1. simpleNFT

参考資料: [https://qiita.com/mogiken/items/54bc24669068ecadf957](https://qiita.com/mogiken/items/54bc24669068ecadf957)

```sh
cd simpleNFT/packages/contracts
yarn install
# プロジェクトのルートに戻る
cd simpleNFT/packages/frontend
yarn install
# プロジェクトのルートに戻る
cd simpleNFT
yarn install
# 以下コマンドを実行すると、ETHのローカル開発用のノードと、ローカルのreactのフロントエンドのweb appが動作する
yarn dev
# MetaMaskの設定を適切に行った上で、フロントエンドの画面のボタンを順にクリックしていくと、consoleにcontractの情報等が適宜表示されていく
```

はまりどころ

- MetaMaskはデフォルトでプライバシーモード？になっているので、明示的にサイトに接続する処理をあらかじめ実行しておかねばエラーになる。
- hardhatで動作させたETHのローカル開発用ノードの場合、chain idをhardhatデフォルトの値？に参考資料の記述を参考に設定しておかねばエラーになった。
- 一旦、hardhatで動作させたETHのローカル開発用ノードを止めて、もう一度起動した場合、ノードの情報はリセットされるが、MetaMaskに保持されたNonceはリセットされないため、Nonceに矛盾が生じてエラーが起きた。MetaMaskで手動でNonce指定する方法ある？

疑問点

- 今のところ、どの参考資料も、ABIを取得するのに`.sol`ファイルをコンパイルした際にローカルに自動生成されたABIの情報が記載されたjsonファイルを読み込んで参照する方法を取っていたが...
  - コントラクトアドレスがわかっていた場合でも、コントラクトアドレスだけでは、ブロックチェーンネットワーク上の情報からABIを取得？復元？できないのか？(そんなことないはずと思っていたが、いまいち、それっぽい方法が見つからない。何か勘違いしているだけ？)
  - もしそうなら、ユーザー各自、一人一人がコントラクトをデプロイするような場合、全ユーザーの全コントラクトのABIを、何らかの形でチェーン外でキープしておく必要があるのか？それとも何か勘違いしている？
- MetaMaskのプライバシーモードの解除は、各サイト毎に行う必要がありそうで、今回は、MetaMaskの側から手動で設定する方法を取ったが...
  - サイト側からMetaMaskへ許可を求める方法はどのようになるのだろうか？そもそも可能なのだろうか？
